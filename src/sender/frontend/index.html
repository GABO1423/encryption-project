<html lang="en">
    <head>
        <meta charset="UTF-8">
        <title>Sender</title>
        <link rel="stylesheet" href="main.css">
        <link rel="icon" href="favicon.ico" type="image/x-icon">
    </head>
    <body>
        <div class="container">
            <div id="file-explorer"></div>
            <h2>Upload File</h2>
            <input type="file" id="localFile">
            <button onclick="uploadFile()">Upload</button>
        </div>
        <script>
            const UPLOAD_URL = '/upload'; 
            function uploadFile()
            {
                const fileInput = document.getElementById('localFile');

                if (!fileInput || fileInput.files.length === 0)
                {
                    alert('Please select a file.');
                    console.error('No file selected.');
                    return;
                }

                const file = fileInput.files[0];
                const fileToSend = file;
                const formData = new FormData();

                formData.append('file', fileToSend, fileToSend.name); 
                console.log(`Uploading..: ${file.name} to ${UPLOAD_URL}`);
                
                fetch(UPLOAD_URL, {method: 'POST', body: formData}).then(response =>
                {
                    if (response.ok) return response.text();
                    throw new Error(`Error HTTP ${response.status}: ${response.statusText}`);
                })
                .then(data => {console.log('Uploaded file.', data);})
                .catch(error => {console.error(`Upload Error: ${error}`);});
            }
        </script>
    </body>
</html>